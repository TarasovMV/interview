<h2>Сбор требований</h2>
Необходимо сузить задачу, узнать:
* количество пользователей системы
* количество человек, которые будут использовать данные
* multi-region или local
* доступность системы
* реклама
* latency
* сколько хранить информацию


<h2>Estimates</h2>
Использование памяти:
* 1 символ            = 1 byte
* метаданные          = 5-10KB
* 1080p image         = 2MB
* 1080p video (1 min) = 30MB

Вместимость сервера:
* Дисковое пространство = ~10TB
* Оперативная память    = ~256GB - 512GB

Что нужно сделать:
* Read-write ratio
* Количество запросов к серверу за **секунду** `n / (24 * 60 * 60)` (чтение, запись). P.S. 115 на запись это немного
* Посчитать сколько в день, месяц, за период использования набежит данных в БД
* Пропускная способность `данные в день` (на чтение = количество раз получения информации * количество записей * размер записи)

<h2>Проектирование API</h2>
* запросы CRUD операции
* модели

<h2>High-level design</h2>
Высокоуровневая архитектура:

`user -> api(presentation) -> application(logic) -> db(storage)`

Определить компоненты всей системы,
отдельно расписать по каждому кейсу,
определить будут ли эти компоненты общими или для каждой API свой

<h2>Detailed design</h2>
* Сконструировать таблицы в БД
* Предположить запросы и модели
* Масштабируемость


<h2>Компоненты системы:</h2>
* API
* Load Balancer (Round-Robin, Sticky) - для масштабируемой системы
* App Server
* Database (NoSQL (Cassandra), SQL(Postgres), ...)
* Очередь (Rabbit MQ)
* Кэш (Reddis)
* Файловое хранилище (Hadoop)
* Брокер сообщений (Kafka) - потоковые данные
* Облачное хранилище (Amazon S3) - blob, обычное?


<h2>Способы масштабирования системы:</h2>
* Клонирование (+ balancer)

* Работа с БД (sharding, nosql)
* Кэш (memcache, reddis) - в виде структуры ключ - значение, подходы
  * кэширование запросов к БД (хэш запроса - ключ), недостатки с изменением бд и обновлением кэша + редкие запросы
  * кэширование объектов - представлять данные, как объекты
* Асинхронность

<h2>CAP теорема:</h2>